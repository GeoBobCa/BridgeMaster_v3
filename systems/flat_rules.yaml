# systems/flat_rules.yaml - THE "SPADE VERTICAL SLICE" UPDATE

# ==============================================================================
# 1. OPENING BIDS
# ==============================================================================
- bid: "1S"
  type: "Opening"
  auction: []
  constraints:
    min_hcp: 12
    max_hcp: 21
    shape_requirements: "5+ Spades"
    explanation: "Standard Opening."

- bid: "Pass"
  type: "Opening"
  auction: []
  constraints:
    max_hcp: 11
    explanation: "Pass."

# ==============================================================================
# 2. RESPONSES TO 1S
# ==============================================================================

# --- GAME FORCING RESPONSES (2/1) ---
- bid: "2H"
  type: "Response"
  auction: ["1S"]
  constraints:
    min_hcp: 13  # Game Force values
    shape_requirements: "5+ Hearts"
    explanation: "2/1 Game Force (5+ Hearts)."

- bid: "2D"
  type: "Response"
  auction: ["1S"]
  constraints:
    min_hcp: 13
    shape_requirements: "4+ Diamonds"
    explanation: "2/1 Game Force (4+ Diamonds)."

- bid: "2C"
  type: "Response"
  auction: ["1S"]
  constraints:
    min_hcp: 13
    shape_requirements: "4+ Clubs" # Some play 3+
    explanation: "2/1 Game Force (4+ Clubs)."

# --- LIMIT / INVITATIONAL RESPONSES ---
- bid: "3S"
  type: "Response"
  auction: ["1S"]
  constraints:
    min_hcp: 10
    max_hcp: 12
    shape_requirements: "3+ Spades"
    explanation: "Limit Raise."

# --- FORCING 1NT (Semi-Forcing) ---
- bid: "1NT"
  type: "Response"
  auction: ["1S"]
  constraints:
    min_hcp: 6
    max_hcp: 12
    explanation: "Forcing/Semi-Forcing 1NT."

# --- WEAK RAISES ---
- bid: "2S"
  type: "Response"
  auction: ["1S"]
  constraints:
    min_hcp: 6
    max_hcp: 9
    shape_requirements: "3+ Spades"
    explanation: "Simple Raise."

# ==============================================================================
# 3. OPENER REBIDS (The "Safety Net")
# ==============================================================================

# --- After 1S - 2H (2/1 Game Force) ---
- bid: "2S"
  type: "Rebid"
  auction: ["1S", "2H"]
  constraints:
    shape_requirements: "6+ Spades" # Rebid suit
    explanation: "Rebidding long Spades."

- bid: "2S" 
  type: "Rebid" 
  # CATCH-ALL: If I have nothing else to say, bid 2S to await partner
  # Note: In 2/1, 2S shows a minimum usually, but is forcing.
  auction: ["1S", "2H"]
  constraints:
    explanation: "Waiting / Minimum."

- bid: "3H"
  type: "Rebid"
  auction: ["1S", "2H"]
  constraints:
    shape_requirements: "3+ Hearts" # Support
    explanation: "Heart Support."

- bid: "2NT"
  type: "Rebid"
  auction: ["1S", "2H"]
  constraints:
    shape_requirements: "Balanced"
    min_hcp: 12
    max_hcp: 14
    explanation: "Balanced Minimum."

# ==============================================================================
# 4. RESPONDER REBIDS (Finishing the Game Force)
# ==============================================================================

# --- After 1S - 2H - 2S (Partner showed Min/Waiting) ---
# THIS WAS THE MISSING PIECE!

- bid: "4H"
  type: "Responder_Rebid"
  auction: ["1S", "2H", "2S"]
  constraints:
    shape_requirements: "6+ Hearts"
    explanation: "Rebidding long Hearts (Game Force)."

- bid: "3NT"
  type: "Responder_Rebid"
  auction: ["1S", "2H", "2S"]
  constraints:
    shape_requirements: "Balanced"
    explanation: "Offer to play 3NT."

- bid: "4S"
  type: "Responder_Rebid"
  auction: ["1S", "2H", "2S"]
  constraints:
    shape_requirements: "2+ Spades" # Delayed support
    explanation: "Fast Arrival to Game."
    